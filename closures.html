<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closures</title>
</head>
<body>

    <button onclick="changeToGreen()">Green</button>
    <button onclick="changeToRed()">Red</button>
  
    <script>
     // Popular example --> mdn --> Lexical scoping
     function outerFunction(){
        const username = "Samandeep Singh";
        function innerFunction(){
            console.log(username);
        }
        return innerFunction();
     }

     outerFunction();

     //Closure --> mdn example
     function outer(){
        const username = "Samandeep Singh";
        function inner(){
            console.log(username);
        }
        return inner; //It is returning the reference of the inner function insteading of executing it 
     }

     const displayName = outer()(); //  or const displayName = outer(); displayName();

     function changeBackground(color){ //We know that we cannot directly pass arguments from onClick
        document.body.style.backgroundColor = color;
     }

     function changeToGreen(){
        changeBackground("green")
     }

     function changeToRed(){
        changeBackground("red")
     }

     // Another very good example
     function addTo(num){
        function add(b){
            return num + b;
        }
        return add; //Returning the inner function reference, and remember its lexical scope will also be returned which means it will have access to the num inside the outer function
     }

     const add = addTo(5); // We passed in here the value of num that the inner function needs in order to add b to it
     console.log(`The sum is ${add(10)}`)
     console.log(`The sum is ${add(5)}`) // the outer function already has 5 in its lexical scope, so the inner function can use num to add the value passed to it through argument and return the sum
     



    </script>
    
</body>
</html>